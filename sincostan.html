<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">
      Trigonometric Functions â€” sin Î¸ â€¢ cos Î¸ â€¢ tan Î¸ | Formulas, Graphs &
      Identities
    </title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <meta
      name="description"
      content="Explore trigonometric functions sinÎ¸, cosÎ¸, tanÎ¸ â€” formulas, unit circle, solver, and identities. A compact visual math reference."
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="/js/common.js" defer></script>
    <script src="/js/i18n.js" defer></script>
    <script src="/js/sincostan.js" defer></script>

    <style>
      /* Hero */
      /* .hero{ text-align:center; max-width:1000px; margin: 1rem auto 1.5rem; } */
      /* .hero h1{ font-size:2.6rem; color:#123; font-weight:800; letter-spacing:0.5px; } */
      .hero .math-title {
        color: #0073e6;
        font-weight: 900;
        font-family: "Fira Mono", ui-monospace, monospace;
      }
      /* .tagline{ font-size:1.1rem; color:#f57c00; margin-top:.35rem; } */
      /* Intro */
      .intro {
        max-width: 1000px;
        margin: 1.5rem auto 2rem;
        background: #fff;
        border-radius: 12px;
        padding: 1rem 1.5rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }
      .intro p {
        margin-bottom: 0.8rem;
      }
      .intro strong {
        color: #123;
      }
      .abbr {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 0.8rem;
        margin: 0.6rem 0 0 0;
      }
      .chip {
        display: inline-block;
        background: #eef2ff;
        border: 1px solid #dbe2ff;
        padding: 0.18rem 0.55rem;
        border-radius: 999px;
        font-size: 0.9rem;
      }

      /* .diagram{ display:flex; align-items:center; justify-content:center; } */
      .triangle-svg text {
        font-size: 12px;
        fill: #234;
      }
      /* Inputs */

      .input-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .muted {
        color: #5b6474;
      }
      /* Formulas */
      /* .formulas-col{ font-family:'Fira Mono', ui-monospace, monospace; color:#334155; background:#f7f7fb; border-radius:10px; padding:.7rem .9rem; display:flex; flex-direction:column; gap:.5rem; } */
      .mini {
        font-size: 0.92rem;
        color: #475569;
      }
      .badge {
        display: inline-block;
        font-size: 0.8rem;
        border-radius: 999px;
        padding: 0.08rem 0.5rem;
        background: #e0f2fe;
        color: #0f172a;
      }
      .sep {
        height: 1px;
        background: #e5e7eb;
        margin: 0.5rem 0;
      }
      /* Results */
      /* .results-col{ font-weight:700; color:#234; background:#e9f7f0; border-radius:10px; padding:.8rem 1rem; display:flex; flex-direction:column; gap:.5rem; } */
      .warn {
        color: #b91c1c;
        font-weight: 800;
      }
      /* Unit circle */
      .circle-diagram svg {
        width: 500px;
        height: 500px;
      }
      .circle-diagram text {
        font-size: 10px;
        fill: #234;
      }
      .circle-dot {
        fill: #0ea5e9;
      }
      .circle-axis {
        fill: #e9280e;
      }
      /* Special angles grid */
      .grid {
        display: grid;
        grid-template-columns: repeat(9, minmax(80px, 1fr));
        gap: 0.5rem;
        text-align: center;
        overflow-x: auto;
        overflow-y: hidden;
        padding-bottom: 0.5rem;
        -webkit-overflow-scrolling: touch;
      }
      .grid div {
        background: #f7f7fb;
        border-radius: 10px;
        padding: 0.5rem 0.35rem;
      }

      .grid::-webkit-scrollbar {
        height: 6px;
      }
      .grid::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.25);
        border-radius: 4px;
      }
      /* ðŸ§· Sticky first column */
      .grid > div:first-child {
        position: sticky;
        left: 0;
        z-index: 2;
        box-shadow: 4px 0 8px rgba(0, 0, 0, 0.05);
      }
    </style>
  </head>
  <body>
    <div id="site-header"></div>
    <section class="content">
      <div class="hero">
        <h1 data-i18n="trig-title"></h1>
        <p class="tagline" data-i18n="trig-intro"></p>
      </div>

      <!-- Intro:-->
      <div class="intro">
        <p data-i18n="trig-definitions">
          <strong>Definitions:</strong> Trigonometric functions relate the
          <em>angles</em> of a right triangle to the
          <em>ratios of its sides</em>. The three primary ones are:
        </p>

        <ul style="margin-left: 1.2rem" data-i18n="trig-list">
          <li><strong>sin(Î¸)</strong> = opposite / hypotenuse</li>
          <li><strong>cos(Î¸)</strong> = adjacent / hypotenuse</li>
          <li><strong>tan(Î¸)</strong> = opposite / adjacent</li>
        </ul>

        <div class="abbr" data-i18n="trig-abbr">
          <span class="chip"
            ><strong>sin</strong> = <em>sine</em> (ES: <em>seno</em>, FR:
            <em>sinus</em>)</span
          >
          <span class="chip"
            ><strong>cos</strong> = <em>cosine</em> (ES: <em>coseno</em>, FR:
            <em>cosinus</em>)</span
          >
          <span class="chip"
            ><strong>tan</strong> = <em>tangent</em> (ES/FR:
            <em>tangente</em>)</span
          >
          <span class="chip mini"
            >SOH-CAH-TOA â†’ sin=opp/hyp â€¢ cos=adj/hyp â€¢ tan=opp/adj</span
          >
        </div>

        <p style="margin-top: 0.6rem" data-i18n="trig-intent">
          <strong>Intent:</strong> Fast visual reference for sin, cos, tan:
          solver, unit circle cues, special angles, and key identities.
        </p>
      </div>

      <!-- Solver + Unit Circle Row -->
      <div class="layout-row">
        <div class="card">
          <div class="card-title" data-i18n="trig-solver"></div>
          <div class="figure-description" data-i18n="trig-hint">
            Enter <strong>2</strong> inputs (angle+side or two sides). We'll
            compute the rest.
          </div>
          <div class="layout">
            <div class="diagram">
              <!-- RIGHT TRIANGLE DIAGRAM (SVG) -->
              <svg
                class="triangle-svg"
                width="200"
                height="150"
                viewBox="0 0 200 150"
                aria-label="Right triangle diagram"
              >
                <!-- Triangle -->
                <polygon
                  points="30,120 190,120 30,30"
                  fill="none"
                  stroke="#1f2937"
                  stroke-width="2"
                />
                <!-- Right angle box -->
                <rect
                  x="30"
                  y="110"
                  width="10"
                  height="10"
                  fill="none"
                  stroke="#1f2937"
                  stroke-width="2"
                />
                <!-- Labels -->
                <text x="100" y="138" text-anchor="middle">b (adjacent)</text>
                <text
                  x="18"
                  y="70"
                  text-anchor="middle"
                  transform="rotate(-90, 18, 70)"
                >
                  a (opposite)
                </text>
                <text x="98" y="56">c (hypotenuse)</text>
                <text x="150" y="116">Î¸</text>
                <text x="35" y="50">Ï†</text>
              </svg>
            </div>

            <div class="inputs-col">
              <div class="input-row">
                <label for="angle">Angle Î¸:</label
                ><input
                  id="angle"
                  type="number"
                  step="any"
                  placeholder="30"
                /><select id="mode">
                  <option value="deg" selected>deg</option>
                  <option value="rad">rad</option>
                </select>
              </div>
              <div class="input-row">
                <label for="a">a (opp):</label
                ><input id="a" type="number" step="any" />
              </div>
              <div class="input-row">
                <label for="b">b (adj):</label
                ><input id="b" type="number" step="any" />
              </div>
              <div class="input-row">
                <label for="c">c (hyp):</label
                ><input id="c" type="number" step="any" />
              </div>
            </div>

            <div class="formulas-col">
              <div class="label" data-i18n="formulas-label">Formulas</div>
              <div><span class="badge">SOH</span> sinÎ¸ = a / c</div>
              <div><span class="badge">CAH</span> cosÎ¸ = b / c</div>
              <div><span class="badge">TOA</span> tanÎ¸ = a / b</div>
              <div class="sep"></div>
              <div class="mini" data-i18n="tri-degrad">
                Degâ†”Rad:<br />
                - rad = degÂ·Ï€/180 <br />- deg = radÂ·180/Ï€
              </div>
              <div class="mini" data-i18n="trig-pyth-short">
                Pythagoras: cÂ² = aÂ² + bÂ²
              </div>
            </div>

            <div class="results-col">
              <div class="label" data-i18n="results-label">Results</div>
              <div><span class="badge">a</span> = <span id="out_a"></span></div>
              <div><span class="badge">b</span> = <span id="out_b"></span></div>
              <div><span class="badge">c</span> = <span id="out_c"></span></div>
              <div class="sep"></div>
              <div>
                <span class="badge">sinÎ¸</span> = <span id="sin"></span>
              </div>
              <div>
                <span class="badge">cosÎ¸</span> = <span id="cos"></span>
              </div>
              <div>
                <span class="badge">tanÎ¸</span> = <span id="tan"></span>
              </div>
              <div class="sep"></div>
              <div class="mini">Î¸ â‰ˆ <span id="thetaOut"></span></div>
              <div class="mini">
                Ï† â‰ˆ <span id="phiOut"></span>
                <span class="mini" style="opacity: 0.7">(Ï† = 90Â° âˆ’ Î¸)</span>
              </div>
              <div class="mini warn" id="warn"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title" data-i18n="trig-unitcircle"></div>
          <div class="figure-description" data-i18n="trig-circle-sub">
            Each position means : angle in radian / angle in degrees (ie: Ï€/4 |
            45Â°). COS and SIN coordinates as follow [cos,sin].
          </div>
          <div
            class="circle-diagram"
            style="display: flex; justify-content: center"
          >
            <!-- UNIT CIRCLE WITH KEY ANGLES -->
            <svg
              viewBox="0 0 280 280"
              aria-label="Unit circle with 0, 30Â°, 45Â°, 60Â°, 90Â°"
            >
              <defs>
                <marker
                  id="arrowhead"
                  markerWidth="10"
                  markerHeight="7"
                  refX="10"
                  refY="3.5"
                  orient="auto"
                >
                  <polygon points="0 0, 10 3.5, 0 7" fill="#000" />
                </marker>
              </defs>
              <circle
                cx="130"
                cy="130"
                r="100"
                stroke="#334155"
                stroke-width="2"
                fill="none"
              />
              <!-- axes -->
              <line
                x1="10"
                y1="130"
                x2="270"
                y2="130"
                stroke="#94a3b8"
                stroke-width="1.5"
                marker-end="url(#arrowhead)"
              />
              <line
                x2="130"
                y2="00"
                x1="130"
                y1="250"
                stroke="#94a3b8"
                stroke-width="1.5"
                marker-end="url(#arrowhead)"
              />
              <!-- key radius lines -->
              <line
                x1="130"
                y1="130"
                x2="230"
                y2="130"
                stroke="#f59e0b"
                stroke-width="2"
              />
              <line
                x1="130"
                y1="130"
                x2="130"
                y2="30"
                stroke="#475569"
                stroke-width="1.5"
              />
              <!-- 60Â°, 45Â°, 30Â° -->
              <line
                x1="130"
                y1="130"
                x2="180"
                y2="43.4"
                stroke="#64748b"
                stroke-width="1"
              />
              <!-- 60deg-->
              <line
                x1="130"
                y1="130"
                x2="200.71"
                y2="59.29"
                stroke="#64748b"
                stroke-width="1"
              />
              <!-- 45deg-->
              <line
                x1="130"
                y1="130"
                x2="216.6"
                y2="80"
                stroke="#64748b"
                stroke-width="1"
              />
              <!-- 30deg-->
              <!-- labels -->
              <text x="232" y="125">0 | 0Â°</text>
              <text x="134" y="25">Ï€/2 | 90Â°</text>
              <text x="170" y="35">Ï€/3 | 60Â°</text>
              <!-- 60deg-->
              <text x="195" y="50">Ï€/4 | 45Â°</text>
              <!-- 45deg-->
              <text x="215" y="70">Ï€/6 | 30Â°</text>
              <!-- 30deg-->
              <text x="40" y="125">Ï€ | 180Â°</text>
              <text x="134" y="245">3Ï€/2 | 270Â°</text>

              <!-- dots at tips -->
              <circle class="circle-dot" cx="230" cy="130" r="3" />
              <circle class="circle-dot" cx="130" cy="30" r="3" />
              <circle class="circle-dot" cx="180" cy="43.4" r="3" />
              <!-- 60deg-->
              <circle class="circle-dot" cx="200.71" cy="59.29" r="3" />
              <!-- 45deg-->
              <circle class="circle-dot" cx="216.6" cy="80" r="3" />
              <!-- 30deg-->
              <circle class="circle-dot" cx="030" cy="130" r="3" />
              <circle class="circle-dot" cx="130" cy="230" r="3" />

              <!-- axis -->
              <text x="260" y="120" style="fill: rgb(233, 40, 14)">cos</text>
              <text x="134" y="10" style="fill: rgb(233, 40, 14)">sin</text>
              <!-- cos sin projections -->
              <line
                x1="130"
                y1="43.4"
                x2="180"
                y2="43.4"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 60deg-->
              <line
                x1="180"
                y1="130"
                x2="180"
                y2="43.4"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 60deg-->
              <line
                x1="130"
                y1="59.29"
                x2="200.71"
                y2="59.29"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 45deg-->
              <line
                x1="200.71"
                y1="130"
                x2="200.71"
                y2="59.29"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 45deg-->
              <line
                x1="130"
                y1="80"
                x2="216.6"
                y2="80"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 30deg-->
              <line
                x1="216.6"
                y1="130"
                x2="216.6"
                y2="80"
                stroke="#64748b"
                stroke-width=".5"
                stroke-dasharray="4"
              />
              <!-- 30deg-->
              <!-- dots on axis -->
              <circle class="circle-axis" cx="130" cy="43.4" r="2" />
              <circle class="circle-axis" cx="180" cy="130" r="2" />
              <circle class="circle-axis" cx="130" cy="59.29" r="2" />
              <circle class="circle-axis" cx="200.71" cy="130" r="2" />
              <circle class="circle-axis" cx="130" cy="80" r="2" />
              <circle class="circle-axis" cx="216.6" cy="130" r="2" />
              <!-- text on axis -->
              <text
                x="180"
                y="145"
                text-anchor="middle"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                0.5
              </text>
              <text
                x="200.71"
                y="153"
                text-anchor="middle"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                âˆš2/2
              </text>
              <text
                x="216.6"
                y="145"
                text-anchor="middle"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                âˆš3/2
              </text>
              <text
                x="235"
                y="145"
                text-anchor="middle"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                1
              </text>
              <text
                x="20"
                y="145"
                text-anchor="middle"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                -1
              </text>
              <text
                y="80"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                0.5
              </text>
              <text
                y="59.29"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                âˆš2/2
              </text>
              <text
                y="43.4"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                âˆš3/2
              </text>
              <text
                y="25"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                1
              </text>
              <text
                y="245"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                -1
              </text>
              <text
                y="140"
                x="125"
                text-anchor="end"
                style="fill: rgb(233, 40, 14); font-size: 10px"
              >
                0
              </text>
              <!-- tangeant -->
              <line
                x2="230"
                y2="0"
                x1="230"
                y1="280"
                stroke="#008f39"
                stroke-width="0.5"
                marker-end="url(#arrowhead)"
              />
              <circle
                class="circle-axis"
                cx="230"
                cy="72.26"
                r="2"
                style="fill: #008f39"
              />
              <circle
                class="circle-axis"
                cx="230"
                cy="30"
                r="2"
                style="fill: #008f39"
              />
              <text
                y="30"
                x="235"
                text-anchor="start"
                style="fill: #008f39; font-size: 7px"
              >
                1
              </text>
              <text
                y="80"
                x="235"
                text-anchor="start"
                style="fill: #008f39; font-size: 7px"
              >
                1/âˆš3
              </text>
              <line
                x1="230"
                y1="30"
                x2="200.71"
                y2="59.29"
                stroke="#008f39"
                stroke-width="1"
                stroke-dasharray="2"
              />
              <!-- 45deg-->
              <line
                x1="230"
                y1="72.26"
                x2="216.6"
                y2="80"
                stroke="#008f39"
                stroke-width="1"
                stroke-dasharray="2"
              />
              <!-- 30deg-->
              <text
                y="10"
                x="235"
                text-anchor="start"
                style="fill: #008f39; font-size: 10px"
              >
                tan
              </text>
            </svg>
          </div>
        </div>
      </div>

      <!-- Special Angles Table -->
      <div class="layout-row">
        <div class="card">
          <div class="card-title" data-i18n="trig-special"></div>
          <div class="mini" data-i18n="trig-table-sub">
            Unit circle values (exact):
          </div>
          <div class="grid mini">
            <div>
              <div class="badge">
                <strong>deg</strong><br /><span class="mini">rad</span>
              </div>
              <div><strong>sin</strong></div>
              <div><strong>cos</strong></div>
              <div><strong>tan</strong></div>
            </div>
            <div>
              <div class="badge">
                <strong>0Â°</strong><br /><span class="mini">0</span>
              </div>
              <div>0</div>
              <div>1</div>
              <div>0</div>
            </div>
            <div>
              <div class="badge">
                <strong>30Â°</strong><br /><span class="mini">Ï€/6</span>
              </div>
              <div>1/2</div>
              <div>âˆš3/2</div>
              <div>1/âˆš3</div>
            </div>
            <div>
              <div class="badge">
                <strong>45Â°</strong><br /><span class="mini">Ï€/4</span>
              </div>
              <div>âˆš2/2</div>
              <div>âˆš2/2</div>
              <div>1</div>
            </div>
            <div>
              <div class="badge">
                <strong>60Â°</strong><br /><span class="mini">Ï€/3</span>
              </div>
              <div>âˆš3/2</div>
              <div>1/2</div>
              <div>âˆš3</div>
            </div>
            <div>
              <div class="badge">
                <strong>90Â°</strong><br /><span class="mini">Ï€/2</span>
              </div>
              <div>1</div>
              <div>0</div>
              <div>â€”</div>
            </div>
            <div>
              <div class="badge">
                <strong>120Â°</strong><br /><span class="mini">2Ï€/3</span>
              </div>
              <div>âˆš3/2</div>
              <div>âˆ’1/2</div>
              <div>âˆ’âˆš3</div>
            </div>
            <div>
              <div class="badge">
                <strong>210Â°</strong><br /><span class="mini">7Ï€/6</span>
              </div>
              <div>âˆ’1/2</div>
              <div>âˆ’âˆš3/2</div>
              <div>1/âˆš3</div>
            </div>
            <div>
              <div class="badge">
                <strong>310Â°</strong><br /><span class="mini">31Ï€/18</span>
              </div>
              <div>âˆ’âˆš3/2</div>
              <div>1/2</div>
              <div>âˆ’âˆš3</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Identities -->
      <div class="layout-row">
        <div class="card">
          <div class="card-title" data-i18n="trig-advanced">Not-so-basic</div>
          <div class="formulas-col">
            <div class="label" data-i18n="formulas-label">Formulas</div>
            <div class="mini" data-i18n="trig-recip">
              <strong>Reciprocals</strong>:<br />csc(Î¸) = 1/sin(Î¸) = c/a â€”
              <em>cosecant</em><br />sec(Î¸) = 1/cos(Î¸) = c/b â€” <em>secant</em
              ><br />cot(Î¸) = 1/tan(Î¸) = b/a â€” <em>cotangent</em>
            </div>
            <div class="mini" data-i18n="trig-pyth">
              <strong>Pythagorean</strong>: sinÂ²(Î¸) + cosÂ²(Î¸) = 1;<br />1 +
              tanÂ²(Î¸) = secÂ²(Î¸); 1 + cotÂ²(Î¸) = cscÂ²(Î¸)
            </div>
            <div class="mini" data-i18n="trig-cofun">
              <strong>Cofunction</strong>: sin(90Â° âˆ’ x) = cos(x); tan(90Â° âˆ’ x) =
              cot(x)
            </div>
            <div class="mini" data-i18n="trig-addition">
              <strong>Angle addition</strong>: sin(Î± Â± Î²) = sin(Î±).cos(Î²) Â±
              cos(Î±).sin(Î²);<br />cos(Î± Â± Î²) = cos(Î±).cos(Î²) âˆ“ sin(Î±).sin(Î²);<br />tan(Î±
              Â± Î²) = (tan(Î±) Â± tan(Î²)) / (1 âˆ“ tan(Î±).tan(Î²))
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title" data-i18n="trig-inverse">
            Inverse trig (right triangle)
          </div>
          <div class="formulas-col">
            <div class="label" data-i18n="formulas-label">Formulas</div>
            <div class="mini" data-i18n="trig-inverse-content">
              Î¸ = arcsin(a/c) = arccos(b/c) = arctan(a/b)
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- <script>
      const $ = (id) => document.getElementById(id);

      window.addEventListener("i18n-ready", () => {
        // this runs once the language dictionary is loaded
        window.d = window.dict; // make a short alias
        window.lang = (
          localStorage.getItem("lang") ||
          document.documentElement.lang ||
          navigator.language ||
          "en"
        ).slice(0, 2);
      });

      const els = ["angle", "a", "b", "c", "mode"].map((id) => $(id));
      els.forEach((el) => el && el.addEventListener("input", compute));

      function round6(x) {
        return Number.isFinite(x) ? Math.round(x * 1e6) / 1e6 : NaN;
      }
      function clamp(x, min, max) {
        return Math.min(Math.max(x, min), max);
      }

      function compute() {
        const warn = $("warn");
        if (warn) warn.textContent = "";

        const mode = $("mode").value;
        let A_in = parseFloat($("angle").value);
        let a_in = parseFloat($("a").value);
        let b_in = parseFloat($("b").value);
        let c_in = parseFloat($("c").value);

        let A = Number.isFinite(A_in) ? A_in : NaN;
        let a = Number.isFinite(a_in) ? a_in : NaN;
        let b = Number.isFinite(b_in) ? b_in : NaN;
        let c = Number.isFinite(c_in) ? c_in : NaN;

        const given = [A, a, b, c].filter(Number.isFinite).length;
        if (given < 2) {
          clearAll();
          if (warn) warn.innerHTML = d[lang]["trig-input-hint"];
          return;
        }
        if (given > 2) {
          clearAll();
          if (warn) warn.innerHTML = d[lang]["trig-input-error"];
          return;
        }

        let theta = Number.isFinite(A)
          ? mode === "deg"
            ? (A * Math.PI) / 180
            : A
          : NaN;
        if (Number.isFinite(a) && Number.isFinite(b) && !Number.isFinite(c))
          c = Math.hypot(a, b);
        if (Number.isFinite(a) && Number.isFinite(c) && !Number.isFinite(b))
          b = Math.sqrt(Math.max(c * c - a * a, 0));
        if (Number.isFinite(b) && Number.isFinite(c) && !Number.isFinite(a))
          a = Math.sqrt(Math.max(c * c - b * b, 0));

        if (!Number.isFinite(theta)) {
          if (Number.isFinite(a) && Number.isFinite(c) && c > 0)
            theta = Math.asin(clamp(a / c, -1, 1));
          else if (Number.isFinite(b) && Number.isFinite(c) && c > 0)
            theta = Math.acos(clamp(b / c, -1, 1));
          else if (Number.isFinite(a) && Number.isFinite(b) && b !== 0)
            theta = Math.atan(a / b);
        }

        if (Number.isFinite(theta)) {
          if (!Number.isFinite(a) && Number.isFinite(c))
            a = c * Math.sin(theta);
          if (!Number.isFinite(b) && Number.isFinite(c))
            b = c * Math.cos(theta);
          if (!Number.isFinite(c) && Number.isFinite(a))
            c = a / Math.sin(theta);
          if (!Number.isFinite(c) && Number.isFinite(b))
            c = b / Math.cos(theta);
          if (!Number.isFinite(a) && Number.isFinite(b))
            a = b * Math.tan(theta);
          if (!Number.isFinite(b) && Number.isFinite(a))
            b = a / Math.tan(theta);
        }

        const phi = Number.isFinite(theta) ? Math.PI / 2 - theta : NaN;
        const s = Math.sin(theta || NaN);
        const co = Math.cos(theta || NaN);
        const ta = Math.tan(theta || NaN);
        fillOutputs(s, co, ta, theta, phi, a, b, c);
      }

      function clearAll() {
        [
          "sin",
          "cos",
          "tan",
          "out_a",
          "out_b",
          "out_c",
          "thetaOut",
          "phiOut",
        ].forEach((id) => {
          const e = $(id);
          if (e) e.textContent = "NA";
        });
      }

      function fillOutputs(s, co, ta, theta, phi, a, b, c) {
        const put = (id, val) => {
          const e = $(id);
          if (e) e.textContent = Number.isFinite(val) ? round6(val) : "NA";
        };
        put("sin", s);
        put("cos", co);
        put("tan", ta);
        put("out_a", a);
        put("out_b", b);
        put("out_c", c);
        const mode = $("mode").value;
        const thetaEl = $("thetaOut");
        if (thetaEl)
          thetaEl.textContent = Number.isFinite(theta)
            ? mode === "deg"
              ? round6((theta * 180) / Math.PI) + " deg"
              : round6(theta) + " rad"
            : "NA";
        const phiEl = $("phiOut");
        if (phiEl)
          phiEl.textContent = Number.isFinite(phi)
            ? mode === "deg"
              ? round6((phi * 180) / Math.PI) + " deg"
              : round6(phi) + " rad"
            : "NA";
      }
    </script> -->
  </body>
</html>
